---
title: "project"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown for student1
## python for functionA
```{python}

import numpy as np
import time
import matplotlib.pyplot as plt

N = 10
    
m = np.random.normal(size = (N,N))
n = np.random.normal(size = (N,N))
g = np.random.normal(size = (N,1))

def A_i(x):
    m = np.random.normal(size = (N,N))
    n = np.random.normal(size = (N,N))
    g = np.random.normal(size = (N,1))
    res = np.zeros((N,1))
    for i in range(N):
        for j in range(N):
            res[i] += m[i][j]*x[j]
    for i in range(N):
        for j in range(N):
            res[i] += n[i][j]*x[j]
    res = np.add(res, g)
    return res
print(A_i(np.array([[1],[2],[3],[4],[5],[6],[7],[8],[9],[10]])))

def A_ii(x):

    m = np.random.normal(size = (N,N))
    n = np.random.normal(size = (N,N))
    g = np.random.normal(size = (N,1))

    res = np.zeros((N,1))
    res = np.add(res, np.matmul(m, x))
    res = np.add(res, np.matmul(n, x))
    res = np.add(res, g)
    return res
print(A_ii(np.array([[1],[2],[3],[4],[5],[6],[7],[8],[9],[10]])))




print(time.time())
def A_iii():
    start = time.time()
    res = []
    for i in range(10000):
        A_i(np.array([[1],[2],[3],[4],[5],[6],[7],[8],[9],[10]]))
        res.append(time.time()-start)
    
    
    print(res)
    plt.plot(res)
    plt.show()
    

A_iii()

def A_iiii():
    start = time.time()
    res = []
    for i in range(10000):
        A_ii(np.array([[1],[2],[3],[4],[5],[6],[7],[8],[9],[10]]))
        res.append(time.time()-start)
    plt.plot([i for i in range(1,10001)], res)
    plt.show()

A_iiii()
```



## R for functionB
```{r}
x<-c(1:10)
functionB1<-function(x,n){
  input1<-rep(0,times=n)
  imput2<-rep(0,times=n)
  output<-rep(0,times=n)
  G<-rep(0,times=n)
  M<-rep(0,times=n*n)
  N<-rep(0,times=n*n)
  for (i in 1:n){
    G[i]<-rnorm(1)
    for(j in 1:n){
      M[i*n+j]<-rnorm(1)
      N[i*n+j]<-rnorm(1)
      input1[i]<-input1[i]+M[i*n+j]*x[j]
      imput2[i]<-imput2[i]+N[i*n+j]*x[j]
    }
  }
  output<-input1+imput2+G
  print(output)
}
functionB1(x,10)
```

```{r}
x<-c(1:10)
functionB2<-function(x,n){
  M<-matrix(rnorm(n*n),nrow=n,ncol=n)
  N<-matrix(rnorm(n*n),nrow=n,ncol=n)
  G<-matrix(rnorm(n),nrow=n,ncol=1)
  output<-crossprod(M,x)+crossprod(N,x)+G
  print(output)
}

functionB2(x,10)

```


```{r}
functionB1time<-function(){
  input<-c(10, 100, 500, 1000, 5000, 10000)
  for(i in 1:6){
    x<-c(1:input[i])
    start_time<-Sys.time()
    functionB1(x,input[i])
    end_time<-Sys.time()
    t[i]<-end_time-start_time
  }
  plot(input,t,main="Plot for Prob B Function 1",
       xlab="dimension n", ylab="time consuming t")
}
functionB1time()

```

```{r}

functionB2time<-function(){
  input<-c(10, 100, 500, 1000, 5000, 10000)
  for(i in 1:6){
    x<-c(1:input[i])
    start_time<-Sys.time()
    functionB2(x,input[i])
    end_time<-Sys.time()
    t[i]<-end_time-start_time
  }
  plot(input,t,main="Plot for Prob B Function 2",
       xlab="dimension n", ylab="time consuming t")
}
functionB2time()

```



## R Markdown for student2
```{r}
A1<-function(x,n){
  ans1<-rep(0,times=n)
  ans2<-rep(0,times=n)
  ans<-rep(0,times=n)
  G<-rep(0,times=n)
  M<-rep(0,times=n*n)
  N<-rep(0,times=n*n)
  for (i in 1:n){
    G[i]<-rnorm(1)
    for(j in 1:n){
      M[i*n+j]<-rnorm(1)
      N[i*n+j]<-rnorm(1)
      ans1[i]<-ans1[i]+M[i*n+j]*x[j]
      ans2[i]<-ans2[i]+N[i*n+j]*x[j]
    }
  }
  ans<-ans1+ans2+G
#  print(ans)
}
#x<-c(1:10)
#A1(x,10)

```


```{r}
A2<-function(x,n){
  M<-matrix(rnorm(n*n),nrow=n,ncol=n)
  N<-matrix(rnorm(n*n),nrow=n,ncol=n)
  G<-matrix(rnorm(n),nrow=n,ncol=1)
  ans<-crossprod(M,x)+crossprod(N,x)+G
#  print(ans)
}
#x<-c(1:10)
#A2(x,10)
```


```{r}
A1time<-function(){
  #loop through 1:10000
  i<-c(10, 100, 500, 1000, 5000, 10000)
  for(val in i){
    #start the clock
    x<-c(1:i)
    start_time<-Sys.time()
    A1(x,i)
    #stop the clock
    end_time<-Sys.time()
    t[i]<-end_time-start_time
  }
  plot(i,t,main="Plot for Prob A Function 1",
       xlab="dimension n", ylab="time consuming t")
}
```


```{r}
A2time<-function(){
  #loop through 1:10000
  i<-c(10, 100, 500, 1000, 5000, 10000)
  for(val in i){
    #start the clock
    x<-c(1:i)
    start_time<-Sys.time()
    A2(x,i)
    #stop the clock
    end_time<-Sys.time()
    t[i]<-end_time-start_time
  }
  plot(i,t,main="Plot for Prob A Function 2",
       xlab="dimension n", ylab="time consuming t")
  
}

```






